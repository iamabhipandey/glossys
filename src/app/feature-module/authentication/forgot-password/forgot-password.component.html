<div class="login-wrapper why-choose">
  <div class="choose-left">
    <img src="assets/img/bg/choose-left.png" class="img-fluid" alt="Why Choose Us">
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-lg-6 col-xl-7 hide-for-mobile">
        <div class="visual-section ">
          <img src="assets/img/bg/forget-password.webp" class="img-fluid " alt="Access Card" />
        </div>
      </div>
      <div class="col-11 col-sm-10 col-md-6 col-lg-5 col-xl-4 form-sec">
        <div class="loginbox">
          <div class="login-auth">
            <div class="login-auth-wrap">
              <h1>Forgot Password</h1>
              <p class="account-subtitle">
                Enter your email to receive an OTP for verification.
              </p>
              <form [formGroup]="form" (ngSubmit)="forgotPassword()">
                <div class="input-block mb-3 position-relative">
                  <label for="email" class="form-label">
                    Email Address <span class="text-danger">*</span>
                  </label>

                  <input id="email" type="email" class="form-control pe-5" placeholder="Enter email…"
                    formControlName="email" [ngClass]="{'is-invalid': touched('email') && invalid('email')}" />

                  <button type="button" class="btn position-absolute end-0 translate-middle-y btn-verify"
                    (click)="sendOtp()" [disabled]="form.get('email')?.invalid || sendingOtp || otpSent">
                    {{ otpSent ? 'Sent' : (sendingOtp ? '...' : 'Verify') }}
                  </button>

                  <div class="invalid-feedback" *ngIf="touched('email') && invalid('email')">
                    <div *ngIf="form.get('email')?.errors?.['required']">Email is required.</div>
                    <div *ngIf="form.get('email')?.errors?.['email']">Enter a valid email.</div>
                  </div>
                </div>

                <div class="input-block mb-3" *ngIf="otpVisible">
                  <label for="otp" class="form-label">
                    OTP <span class="text-danger">*</span>
                  </label>
                  <input id="otp" type="text" class="form-control" placeholder="Enter 6-digit OTP" inputmode="numeric"
                    maxlength="6" formControlName="otp" [ngClass]="{'is-invalid': touched('otp') && invalid('otp')}" />
                  <div class="invalid-feedback" *ngIf="touched('otp') && invalid('otp')">
                    <div *ngIf="form.get('otp')?.errors?.['required']">OTP is required.</div>
                    <div *ngIf="form.get('otp')?.errors?.['pattern']">Enter a 6-digit OTP.</div>
                  </div>
                  <div class="form-text">We’ve sent a code to your email. It expires in 10 minutes.</div>
                </div>

                <button class="btn btn-outline-light w-100 btn-size" type="submit" [routerLink]="routes.resetPassword">
                  Verify Mail
                </button>
              </form>

            </div>
          </div>
        </div>
      </div>

    </div>
  </div>



</div>